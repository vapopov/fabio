<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>FAQ on fabio - The Consul Load-Balancer</title>
    <link>https://fabiolb.net/faq/</link>
    <description>Recent content in FAQ on fabio - The Consul Load-Balancer</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://fabiolb.net/faq/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Binding to Low Ports</title>
      <link>https://fabiolb.net/faq/binding-to-low-ports/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://fabiolb.net/faq/binding-to-low-ports/</guid>
      <description>&lt;p&gt;If you want to bind fabio to ports below 1024 - so called privileged ports -&#xA;without running fabio as &lt;code&gt;root&lt;/code&gt; you can use an operating system approach as&#xA;described below.&lt;/p&gt;&#xA;&lt;p&gt;These best practices are taken from &lt;a href=&#34;https://github.com/fabiolb/fabio/issues/195&#34;&gt;https://github.com/fabiolb/fabio/issues/195&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;h4 id=&#34;linux&#34;&gt;Linux&lt;/h4&gt;&#xA;&lt;p&gt;Provide &lt;code&gt;net_bind_service&lt;/code&gt; capability to fabio binary&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ setcap &amp;#39;cap_net_bind_service=+ep&amp;#39; $(which fabio)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;When using &lt;code&gt;systemd&lt;/code&gt; you can use the following service definition:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ cat /etc/systemd/system/fabio.service&#xA;&#xA;[Unit]&#xA;Description=Fabio proxy&#xA;After=syslog.target&#xA;After=network.target&#xA;&#xA;[Service]&#xA;LimitMEMLOCK=infinity&#xA;LimitNOFILE=65535&#xA;Type=simple&#xA;# unprivileged uid and gid&#xA;User=fabio_user&#xA;Group=fabio_group&#xA;WorkingDirectory=/&#xA;ExecStart=/path/to/fabio -cfg /path/to/fabio.conf&#xA;Restart=always&#xA;# no need that fabio messes with /dev&#xA;PrivateDevices=yes&#xA;# dedicated /tmp&#xA;PrivateTmp=yes&#xA;# make /usr, /boot, /etc read only&#xA;ProtectSystem=full&#xA;# /home is not accessible at all&#xA;ProtectHome=yes&#xA;# to be able to bind port &amp;lt; 1024&#xA;AmbientCapabilities=CAP_NET_BIND_SERVICE&#xA;NoNewPrivileges=yes&#xA;# only ipv4, ipv6, unix socket and netlink networking is possible&#xA;# netlink is necessary so that fabio can list available IPs on startup&#xA;RestrictAddressFamilies=AF_INET AF_INET6 AF_UNIX AF_NETLINK&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;solarisillumossmartos&#34;&gt;Solaris/Illumos/SmartOS&lt;/h4&gt;&#xA;&lt;p&gt;Provide &lt;code&gt;net_privaddr&lt;/code&gt; privileges to fabio user&lt;/p&gt;</description>
    </item>
    <item>
      <title>Handling Multiple Protocols</title>
      <link>https://fabiolb.net/faq/multiple-protocol-listeners/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://fabiolb.net/faq/multiple-protocol-listeners/</guid>
      <description>&lt;p&gt;It is quite possible for a single fabio instance to serve multiple protocols&#xA;via distinct listeners.&lt;/p&gt;&#xA;&lt;p&gt;In this example:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;proxy.addr = 172.16.20.11:80;proto=http;rt=60s;wt=30s,\&#xA;             172.16.20.11:443;proto=https;rt=60s;wt=30s;cs=all;tlsmin=10, \&#xA;             172.16.20.11:8443;proto=tcp+sni&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We are telling fabio to bind to &lt;code&gt;172.16.20.11&lt;/code&gt; on three different ports&#xA;(&lt;code&gt;80&lt;/code&gt;, &lt;code&gt;443&lt;/code&gt;, and &lt;code&gt;8443&lt;/code&gt;) using three distinct protocols&#xA;(&lt;code&gt;HTTP&lt;/code&gt;, &lt;code&gt;HTTPS&lt;/code&gt;, &lt;code&gt;TCP+SNI&lt;/code&gt;).  You are free to bind to as many address,&#xA;port, and protocol combinations as needed within a single instance.&lt;/p&gt;&#xA;&lt;p&gt;See &lt;a href=&#34;https://github.com/fabiolb/fabio/issues/490&#34;&gt;#490&lt;/a&gt; for context.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Request Tracing</title>
      <link>https://fabiolb.net/faq/request-tracing/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://fabiolb.net/faq/request-tracing/</guid>
      <description>&lt;h4 id=&#34;how-do-i-see-which-routes-fabio-is-matching-for-a-request&#34;&gt;How do I see which routes fabio is matching for a request?&lt;/h4&gt;&#xA;&lt;p&gt;To trace how a request is routed you can add a &lt;code&gt;Trace&lt;/code&gt; header with an non-&#xA;empty value which is truncated at 16 characters to keep the log output short.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ curl -v -H &amp;#39;Trace: abc&amp;#39; -H &amp;#39;Host: foo.com&amp;#39; &amp;#39;http://localhost:9999/bar/baz&amp;#39;&#xA;&#xA;2015/09/28 21:56:26 [TRACE] abc Tracing foo.com/bar/baz&#xA;2015/09/28 21:56:26 [TRACE] abc No match foo.com/bang&#xA;2015/09/28 21:56:26 [TRACE] abc Match foo.com/&#xA;2015/09/28 22:01:34 [TRACE] abc Routing to http://1.2.3.4:8080/&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Test fabio with curl</title>
      <link>https://fabiolb.net/faq/request-debugging/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://fabiolb.net/faq/request-debugging/</guid>
      <description>&lt;h5 id=&#34;how-do-i-send-a-request-to-fabio-via-curl&#34;&gt;How do I send a request to fabio via &lt;code&gt;curl&lt;/code&gt;?&lt;/h5&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -v -H &amp;#39;Host: foo.com&amp;#39; &amp;#39;http://localhost:9999/path&amp;#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The &lt;code&gt;-x&lt;/code&gt; or &lt;code&gt;--proxy&lt;/code&gt; options will most likely not work as you expect as they&#xA;send the full URL instead of just the request URI which usually does not match&#xA;any route but the default one - if configured.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Verifying Releases</title>
      <link>https://fabiolb.net/faq/verifying-releases/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://fabiolb.net/faq/verifying-releases/</guid>
      <description>&lt;p&gt;fabio releases can be verified by comparing the SHA256 checksum&#xA;and by verifying the checksums with a GPG key.&lt;/p&gt;&#xA;&lt;p&gt;You can verify the SHA256 checksums with the GPG key below.&#xA;You can also download it from most key servers using the ID&lt;/p&gt;&#xA;&lt;p&gt;For fabio release 5.14 and newer:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://keyserver.ubuntu.com/pks/lookup?search=76462AB9B0C185ABC66FD98F59861FC4870361CA&amp;amp;fingerprint=on&amp;amp;op=index&#34;&gt;&lt;code&gt;76462AB9B0C185ABC66FD98F59861FC4870361CA&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;-----BEGIN PGP PUBLIC KEY BLOCK-----&#xA;&#xA;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&#xA;5xVKlvTztaHhtaWHkg==&#xA;=b3Un&#xA;-----END PGP PUBLIC KEY BLOCK-----&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;For release 5.13 and older:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Why &#39;Fabio&#39;?</title>
      <link>https://fabiolb.net/faq/why-fabio/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://fabiolb.net/faq/why-fabio/</guid>
      <description>&lt;p&gt;When I was writing fabio my son was watching &amp;ldquo;Finding Nemo&amp;rdquo; almost every day and Dory keeps getting Nemos&amp;rsquo; name wrong.&lt;/p&gt;&#xA;&lt;p&gt;One of the names she called him was &amp;ldquo;Fabio&amp;rdquo;. Hence the name.&lt;/p&gt;&#xA;&lt;p&gt;So no, this isn&amp;rsquo;t about the first male super-model &amp;hellip;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
